make()
{
    COMMON_SOURCES="globals.c listener.c"
    NETLOGOND_SOURCES="$COMMON_SOURCES main.c sighandler.c"
    NETLOGON_SOURCES="$COMMON_SOURCES main-svcm.c"

    if [ "$LW_USE_SERVICE_CONTAINERS" = "yes" ]
    then
        mk_dlo \
            DLO="netlogon" \
            INSTALLDIR="${MK_LIBDIR}/lw-svcm" \
            SOURCES="$NETLOGON_SOURCES" \
            GROUPS="../ipc/ipc ../api/api" \
            INCLUDEDIRS=". ../include ../../include" \
            HEADERDEPS="lw/base.h lwadvapi.h" \
	    LIBDEPS="lwmsg lwmsg_nothr lwadvapi lwadvapi_nothr"
    else
        mk_program \
            PROGRAM="netlogond" \
            INSTALLDIR="${MK_SBINDIR}" \
            SOURCES="$NETLOGOND_SOURCES" \
            GROUPS="../ipc/ipc ../api/api" \
            INCLUDEDIRS=". ../include ../../include" \
            HEADERDEPS="lw/base.h lwadvapi.h" \
	    LIBDEPS="lwmsg lwmsg_nothr lwadvapi lwadvapi_nothr"
    fi
}